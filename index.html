<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Fofy ‚ù§Ô∏è</title>

  <style>
    :root{
      --bg1:#ff5a7a;
      --bg2:#ff9ab3;
      --card: rgba(255,255,255,.16);
      --glass: blur(10px);
      --white: #fff;
      --red: #e60026;
      --text: rgba(255,255,255,.95);
      --muted: rgba(255,255,255,.8);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      font-family: Arial, sans-serif;
      color: var(--text);
      overflow:hidden;
    }

    .wrap{
      width:min(640px, 92vw);
      padding: 18px;
    }

    .card{
      background: var(--card);
      backdrop-filter: var(--glass);
      border-radius: 22px;
      padding: 26px 20px;
      box-shadow: 0 18px 50px rgba(0,0,0,.18);
      position:relative;
    }

    .title{
      margin:0 0 6px;
      font-size: 34px;
      letter-spacing:.2px;
    }
    .subtitle{
      margin:0 0 14px;
      font-size: 16px;
      color: var(--muted);
      line-height: 1.5;
    }

    /* Countdown */
    .countdown{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
      margin: 14px 0 18px;
    }
    .cd-box{
      background: rgba(255,255,255,.16);
      border-radius: 14px;
      padding: 10px 8px;
      text-align:center;
    }
    .cd-num{font-size: 26px; font-weight: 800;}
    .cd-lbl{font-size: 11px; letter-spacing: .8px; opacity:.9}

    /* Buttons row */
    .arena{
      position:relative;
      height: 92px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    button{
      border:none;
      border-radius: 14px;
      padding: 14px 26px;
      font-size: 18px;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .08s ease;
    }
    button:active{transform: scale(.98)}
    .yes{background: var(--red); color: var(--white); font-weight:700;}
    .no{background: var(--white); color: var(--red); font-weight:700;}

    #noBtn{
      position:absolute;
      left: 58%;
      top: 18px;
    }

    .tip{
      margin-top:10px;
      font-size: 13px;
      opacity:.9;
    }

    /* Page switch */
    .page{display:none}
    .page.active{display:block}

    /* Second page: percent selector */
    .progressWrap{
      margin-top: 14px;
      display:grid;
      gap: 12px;
    }

    .percentGrid{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:10px;
    }

    .pctBtn{
      background: rgba(255,255,255,.16);
      color: var(--white);
      font-weight:800;
      padding: 12px 0;
      border-radius: 14px;
      font-size: 16px;
    }
    .pctBtn:hover{filter: brightness(1.05)}
    .pctBtn.selected{
      outline: 2px solid rgba(255,255,255,.85);
      background: rgba(230,0,38,.35);
    }

    .result{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
      margin-top: 8px;
    }

    .photo{
      width:100%;
      border-radius: 18px;
      overflow:hidden;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.16);
    }
    .photo img{
      width:100%;
      display:block;
      object-fit: cover;
      max-height: 360px;
    }

    .caption{
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: 18px;
      padding: 14px 14px;
      line-height: 1.55;
      font-size: 16px;
    }
    .caption b{color:#fff}

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 6px;
      justify-content:center;
    }
    .ghost{
      background: rgba(255,255,255,.16);
      color: #fff;
      font-weight:700;
    }

    /* Floating hearts */
    .heart{
      position:absolute;
      bottom:-20px;
      font-size: 18px;
      opacity:.85;
      animation: floatUp 4.2s linear forwards;
      pointer-events:none;
      filter: drop-shadow(0 8px 10px rgba(0,0,0,.18));
    }
    @keyframes floatUp{
      0%{ transform: translateY(0) translateX(0) scale(.9); opacity:.0;}
      10%{opacity:.85}
      100%{ transform: translateY(-120vh) translateX(40px) scale(1.2); opacity:0;}
    }

    /* Mobile grid tweak */
    @media (max-width: 420px){
      .percentGrid{grid-template-columns: repeat(4, 1fr);}
      .title{font-size: 30px;}
      .cd-num{font-size: 22px;}
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- PAGE 1 -->
    <div class="card page active" id="page1">
      <h1 class="title">Fofy üíñ</h1>
      <p class="subtitle">
        Will you be my Valentine?<br/>
        (And yes‚Ä¶ there is a surprise after ‚ÄúYES‚Äù üòå)
      </p>

      <div class="countdown" aria-label="Countdown to Valentine‚Äôs Day">
        <div class="cd-box"><div class="cd-num" id="d">--</div><div class="cd-lbl">DAYS</div></div>
        <div class="cd-box"><div class="cd-num" id="h">--</div><div class="cd-lbl">HOURS</div></div>
        <div class="cd-box"><div class="cd-num" id="m">--</div><div class="cd-lbl">MIN</div></div>
        <div class="cd-box"><div class="cd-num" id="s">--</div><div class="cd-lbl">SEC</div></div>
      </div>

      <div class="arena" id="arena">
        <button class="yes" id="yesBtn">YES ‚ù§Ô∏è</button>
        <button class="no" id="noBtn">NO üôÉ</button>
      </div>

      <div class="tip">Try pressing ‚ÄúNO‚Äù üòå</div>
    </div>

    <!-- PAGE 2 -->
    <div class="card page" id="page2">
      <h1 class="title">Okay‚Ä¶ one more thing üòå</h1>
      <p class="subtitle">
        Before we lock it in‚Ä¶<br/>
        Choose <b>how much</b> you accept being my Valentine ‚ù§Ô∏è
      </p>

      <div class="progressWrap">
        <div class="percentGrid" id="percentGrid"></div>

        <div class="result">
          <div class="photo" id="photoBox">
            <!-- photo10.jpg must exist in repo -->
            <img id="photoImg" src="photo10.jpg" alt="Us" />
          </div>

          <div class="caption" id="captionBox">
            Pick a percentage to see the message üíå
          </div>

          <div class="actions">
            <button class="ghost" id="openAnghamiBtn">Play our song üé∂ (Anghami)</button>
            <button class="yes" id="whatsBtn">Message me üí¨</button>
          </div>

          <div class="tip" style="text-align:center;">
            Successful pharmacist + sushi date = confirmed plan üç£üíä
          </div>
        </div>
      </div>
    </div>

  </div>

<script>
  // ========= SETTINGS =========
  const WHATSAPP_NUMBER = "201011999501"; // 01011999501 in international format (Egypt)
  const ANGhAMI_LINK = "https://play.anghami.com/song/1208419042?lang=ar"; // opens on Anghami  [oai_citation:1‚Ä°Anghami](https://play.anghami.com/song/1208419042?lang=ar&utm_source=chatgpt.com)

  // ========= COUNTDOWN =========
  function getNextValentineDate(){
    const now = new Date();
    let year = now.getFullYear();
    let target = new Date(year, 1, 14, 0, 0, 0); // Feb = 1
    if (now > target) target = new Date(year + 1, 1, 14, 0, 0, 0);
    return target;
  }
  const targetDate = getNextValentineDate();
  const pad = n => String(n).padStart(2,"0");

  function updateCountdown(){
    const now = new Date();
    let diff = targetDate - now;
    if (diff < 0) diff = 0;
    const sec = Math.floor(diff/1000);
    const days = Math.floor(sec/(3600*24));
    const hours = Math.floor((sec%(3600*24))/3600);
    const mins = Math.floor((sec%3600)/60);
    const secs = sec%60;

    document.getElementById("d").textContent = days;
    document.getElementById("h").textContent = pad(hours);
    document.getElementById("m").textContent = pad(mins);
    document.getElementById("s").textContent = pad(secs);
  }
  updateCountdown();
  setInterval(updateCountdown, 1000);

  // ========= RUNAWAY NO BUTTON =========
  const noBtn = document.getElementById("noBtn");
  const arena = document.getElementById("arena");

  function moveNoButton(){
    const a = arena.getBoundingClientRect();
    const b = noBtn.getBoundingClientRect();
    const maxX = Math.max(0, a.width - b.width);
    const maxY = Math.max(0, a.height - b.height);
    const x = Math.random()*maxX;
    const y = Math.random()*maxY;
    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";
  }

  noBtn.addEventListener("mouseenter", moveNoButton);
  noBtn.addEventListener("click", moveNoButton);
  noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); moveNoButton(); }, {passive:false});
  window.addEventListener("load", ()=> setTimeout(moveNoButton, 250));

  // ========= HEARTS =========
  function spawnHeart(){
    const h = document.createElement("div");
    h.className = "heart";
    const hearts = ["‚ù§Ô∏è","üíñ","üíò","üíï","üç£","üíä"];
    h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
    h.style.left = Math.floor(Math.random()*100) + "vw";
    h.style.fontSize = (16 + Math.random()*16) + "px";
    h.style.animationDuration = (3.2 + Math.random()*2.2) + "s";
    document.body.appendChild(h);
    setTimeout(()=> h.remove(), 5200);
  }

  // ========= PAGE SWITCH =========
  const page1 = document.getElementById("page1");
  const page2 = document.getElementById("page2");
  const yesBtn = document.getElementById("yesBtn");

  function goToPage2(){
    page1.classList.remove("active");
    page2.classList.add("active");
    // start hearts
    spawnHeart();
    setInterval(spawnHeart, 650);
  }

  yesBtn.addEventListener("click", ()=>{
    // Open Anghami in a new tab (works reliably on phones)
    window.open(ANGhAMI_LINK, "_blank");
    goToPage2();
  });

  // ========= PERCENT SELECTOR =========
  const percentGrid = document.getElementById("percentGrid");
  const captionBox  = document.getElementById("captionBox");
  const photoImg    = document.getElementById("photoImg");

  // Captions (pharmacist + sushi + romantic)
  const captions = {
    10:  `10%: <b>love you one person.</b> (ÿ®ÿ≥ ŸÑÿ≥Ÿá ÿ¨ÿ±ÿπÿ© ÿßŸÑÿ®ÿØÿßŸäÿ© üòå)`,
    20:  `20%: Pharmacist queen üíä‚Ä¶ you already cured my bad days.`,
    30:  `30%: If love was a prescription, you‚Äôd be ‚Äútake forever, once daily.‚Äù`,
    40:  `40%: I‚Äôm not asking for perfect‚Ä¶ I‚Äôm asking for <b>you</b>.`,
    50:  `50%: Half way‚Ä¶ and I‚Äôm smiling like it‚Äôs our first day again.`,
    60:  `60%: Next step: <b>sushi date</b> üç£ + your favorite sad songs üé∂.`,
    70:  `70%: You‚Äôre not just my Valentine‚Ä¶ you‚Äôre my safe place.`,
    80:  `80%: Fofy, you‚Äôre the ‚Äúgood news‚Äù I want every year.`,
    90:  `90%: Almost yes‚Ä¶ say it and I‚Äôll plan the whole day like a movie üíñ.`,
    100: `100%: <b>Deal.</b> Valentine confirmed ‚úÖ<br/>Now press ‚ÄúMessage me‚Äù and let‚Äôs pick the sushi place üç£‚ù§Ô∏è`
  };

  // You asked: photo for 10%. We‚Äôll show photo10.jpg for all by default.
  // Later, if you upload more photos (photo20.jpg, photo30.jpg...), this code will auto use them.
  function photoFor(p){
    // if you upload photos named photo20.jpg etc, it will try them
    return `photo${p}.jpg`;
  }

  function setSelected(btn){
    document.querySelectorAll(".pctBtn").forEach(b=>b.classList.remove("selected"));
    btn.classList.add("selected");
  }

  function onPercentClick(p, btn){
    setSelected(btn);
    captionBox.innerHTML = captions[p] || `Chosen: ${p}% ‚ù§Ô∏è`;

    // Try to load photo{p}.jpg; if not found, fallback to photo10.jpg
    const trySrc = photoFor(p);
    const fallback = "photo10.jpg";
    const img = new Image();
    img.onload = ()=> { photoImg.src = trySrc; };
    img.onerror = ()=> { photoImg.src = fallback; };
    img.src = trySrc;

    // little heart burst
    for(let i=0;i<4;i++) setTimeout(spawnHeart, i*120);
  }

  // Build buttons 10..100
  for(let p=10; p<=100; p+=10){
    const b = document.createElement("button");
    b.className = "pctBtn";
    b.textContent = p + "%";
    b.addEventListener("click", ()=> onPercentClick(p, b));
    percentGrid.appendChild(b);
  }

  // ========= ACTION BUTTONS =========
  document.getElementById("openAnghamiBtn").addEventListener("click", ()=>{
    window.open(ANGhAMI_LINK, "_blank");
  });

  document.getElementById("whatsBtn").addEventListener("click", ()=>{
    window.location.href = `https://wa.me/${WHATSAPP_NUMBER}`;
  });
</script>

</body>
</html>
